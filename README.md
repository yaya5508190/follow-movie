# Follow Movie

> ä¸€ä¸ªåŸºäºå¾®å‰ç«¯æ¶æ„å’Œæ’ä»¶åŒ–ç³»ç»Ÿçš„ç”µå½±è®¢é˜…åŠ©æ‰‹

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.5-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Vue](https://img.shields.io/badge/Vue-3.5.17-4FC08D.svg)](https://vuejs.org/)
[![Module Federation](https://img.shields.io/badge/Module%20Federation-Enabled-orange.svg)](https://module-federation.io/)

## ğŸ“– é¡¹ç›®ç®€ä»‹

Follow Movie æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ç”µå½±è®¢é˜…åŠ©æ‰‹ç³»ç»Ÿï¼Œé‡‡ç”¨æ’ä»¶åŒ–æ¶æ„å’Œå¾®å‰ç«¯æŠ€æœ¯æ ˆï¼Œæ”¯æŒçµæ´»çš„åŠŸèƒ½æ‰©å±•å’Œç‹¬ç«‹éƒ¨ç½²ã€‚ç³»ç»Ÿé›†æˆäº†å¤šä¸ªä¸‹è½½ç«™ç‚¹ã€BT ä¸‹è½½å·¥å…·å’Œåª’ä½“ç®¡ç†åŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ç«™å¼çš„å½±è§†èµ„æºè®¢é˜…å’Œç®¡ç†æœåŠ¡ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ§© **æ’ä»¶åŒ–æ¶æ„** - åŸºäº Spring Boot çš„åŠ¨æ€æ’ä»¶ç³»ç»Ÿï¼Œæ”¯æŒæ’ä»¶çƒ­åŠ è½½å’Œç‹¬ç«‹å¼€å‘
- ğŸš€ **å¾®å‰ç«¯æ¶æ„** - é‡‡ç”¨ Module Federation æŠ€æœ¯å®ç°å‰ç«¯æ¨¡å—è”é‚¦ï¼Œå„æ’ä»¶å‰ç«¯ç‹¬ç«‹æ‰“åŒ…éƒ¨ç½²
- ğŸ¨ **ç°ä»£åŒ– UI** - åŸºäº Vue 3 + Vuetify 3 çš„å“åº”å¼ç•Œé¢è®¾è®¡
- ğŸ” **é¢å¤–è®¤è¯** - æ”¯æŒé€šè¿‡æç©ºé—´è¿œç¨‹è®¿é—®åŠŸèƒ½æ“ä½œQBittorrentä¸‹è½½å·¥å…·
- ğŸ“¦ **å®¹å™¨åŒ–éƒ¨ç½²** - å®Œæ•´çš„ Docker åŒ–éƒ¨ç½²æ–¹æ¡ˆï¼Œä¸€é”®å¯åŠ¨
- ğŸ—„ï¸ **æ•°æ®æŒä¹…åŒ–** - åŸºäº PostgreSQL å’Œ Jimmer ORM çš„æ•°æ®ç®¡ç†

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Java | 17 | æ ¸å¿ƒå¼€å‘è¯­è¨€ |
| Spring Boot | 3.5.5 | åº”ç”¨æ¡†æ¶ |
| Jimmer | 0.9.111 | ORM æ¡†æ¶ |
| PostgreSQL | 15 | å…³ç³»å‹æ•°æ®åº“ |
| Maven | 3.6+ | æ„å»ºå·¥å…· |
| OkHttp | 4.12.0 | HTTP å®¢æˆ·ç«¯ |

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Vue | 3.5.17 | æ¸è¿›å¼æ¡†æ¶ |
| Vuetify | 3.9.1 | Material Design ç»„ä»¶åº“ |
| Vite | 5.x | æ„å»ºå·¥å…· |
| TypeScript | 5.6+ | ç±»å‹æ”¯æŒ |
| Pinia | 3.0.3 | çŠ¶æ€ç®¡ç† |
| Module Federation | 0.21.3 | å¾®å‰ç«¯æ¡†æ¶ |
| Axios | 1.7.9 | HTTP å®¢æˆ·ç«¯ |

### å¾®å‰ç«¯æ¶æ„

é¡¹ç›®é‡‡ç”¨ **Module Federation** å®ç°å¾®å‰ç«¯æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Host Application               â”‚
â”‚      (follow-movie-web)                â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Module Federation Runtime      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚          â”‚          â”‚
           â–¼          â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Plugin  â”‚ â”‚  Plugin  â”‚ â”‚  Plugin  â”‚
    â”‚  Remote  â”‚ â”‚  Remote  â”‚ â”‚  Remote  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿ï¼š**
- âœ… å„æ’ä»¶å‰ç«¯ç‹¬ç«‹å¼€å‘ã€æ„å»ºå’Œéƒ¨ç½²
- âœ… è¿è¡Œæ—¶åŠ¨æ€åŠ è½½æ’ä»¶æ¨¡å—
- âœ… å…±äº«ä¾èµ–è‡ªåŠ¨ä¼˜åŒ–
- âœ… æ”¯æŒç‰ˆæœ¬ç‹¬ç«‹å‡çº§

### æ’ä»¶åŒ–ç³»ç»Ÿ

åç«¯é‡‡ç”¨ Spring Boot æ’ä»¶åŒ–æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Main Application                   â”‚
â”‚   (follow-movie-web)                    â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    Plugin Loader & Scanner         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚          â”‚          â”‚
           â–¼          â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Media   â”‚ â”‚  Media   â”‚ â”‚  Pre     â”‚
    â”‚  Downloadâ”‚ â”‚  Fetch   â”‚ â”‚  Auth    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹ï¼š**
- âœ… æ’ä»¶ç‹¬ç«‹ JAR åŒ…
- âœ… è¿è¡Œæ—¶åŠ¨æ€åŠ è½½
- âœ… ç‹¬ç«‹çš„ä¾èµ–ç®¡ç†
- âœ… ç»Ÿä¸€çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
follow-movie/
â”œâ”€â”€ common-api/                    # å…¬å…± API æ¨¡å—
â”œâ”€â”€ common-repository/             # å…¬å…±æ•°æ®è®¿é—®å±‚
â”‚   â””â”€â”€ src/main/resources/sql/   # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ follow-movie-web/              # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ fronted-web/               # ä¸»åº”ç”¨å‰ç«¯ï¼ˆHostï¼‰
â”‚   â””â”€â”€ src/main/java/             # ä¸»åº”ç”¨åç«¯
â”œâ”€â”€ plugins/                       # æ’ä»¶ç›®å½•
â”‚   â”œâ”€â”€ media-download/            # åª’ä½“ä¸‹è½½æ’ä»¶
â”‚   â”‚   â””â”€â”€ q-bittorrent/          # qBittorrent é›†æˆ
â”‚   â”œâ”€â”€ media-fetch/               # åª’ä½“æŠ“å–æ’ä»¶
â”‚   â”‚   â””â”€â”€ m-team/                # M-Team ç«™ç‚¹é›†æˆ
â”‚   â”œâ”€â”€ media-hub/                 # åª’ä½“ä¸­å¿ƒæ’ä»¶
â”‚   â””â”€â”€ pre-auth/                  # é¢„è®¤è¯æ’ä»¶
â”‚       â””â”€â”€ z-space/               # Z-Space è®¤è¯
â””â”€â”€ script/                        # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
    â”œâ”€â”€ fronted/                   # å‰ç«¯æ„å»ºè„šæœ¬
    â”‚   â””â”€â”€ build-all.mjs          # ä¸€é”®æ„å»ºæ‰€æœ‰å‰ç«¯
    â””â”€â”€ docker/                    # Docker éƒ¨ç½²è„šæœ¬
        â”œâ”€â”€ build-docker.mjs       # Docker æ‰“åŒ…è„šæœ¬
        â”œâ”€â”€ test-build.mjs         # æ„å»ºæ£€æŸ¥å·¥å…·
        â””â”€â”€ DEPLOYMENT_GUIDE.md    # éƒ¨ç½²å®Œæ•´æŒ‡å—
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 16.x
- **Java JDK** >= 17
- **Maven** >= 3.6.x
- **Docker** >= 20.xï¼ˆå¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²ï¼‰
- **PostgreSQL** >= 15ï¼ˆæˆ–ä½¿ç”¨ Docker Compose è‡ªå¸¦ï¼‰

### æœ¬åœ°å¼€å‘

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-org/follow-movie.git
cd follow-movie
```

#### 2. å®‰è£…å‰ç«¯ä¾èµ–

```bash
# ä¸»åº”ç”¨å‰ç«¯
cd follow-movie-web/fronted-web
npm install

# å„æ’ä»¶å‰ç«¯
cd plugins/media-hub/fronted-web
npm install

cd plugins/media-download/q-bittorrent/fronted-web
npm install

cd plugins/media-fetch/m-team/fronted-web
npm install

cd plugins/pre-auth/z-space/fronted-web
npm install
```

#### 3. æ„å»ºå‰ç«¯

ä½¿ç”¨ä¸€é”®æ„å»ºè„šæœ¬ï¼š

```bash
cd script/fronted
node build-all.mjs
```

#### 4. é…ç½®æ•°æ®åº“

ç¼–è¾‘ `follow-movie-web/src/main/resources/application.yml`ï¼š

```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/follow_movie
    username: postgres
    password: your_password
```

æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼š

```bash
psql -U postgres -d follow_movie -f common-repository/src/main/resources/sql/0.0.1.sql
```

#### 5. å¯åŠ¨åç«¯

```bash
# æ„å»ºé¡¹ç›®
mvn clean package -Dmaven.test.skip=true

# å¯åŠ¨ä¸»åº”ç”¨
cd follow-movie-web
mvn spring-boot:run
```

#### 6. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:8080

é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š
- ç”¨æˆ·å: `admin`
- å¯†ç : `12345678`

### Docker éƒ¨ç½²

æ¨èä½¿ç”¨ Docker Compose è¿›è¡Œä¸€é”®éƒ¨ç½²ï¼Œè¯¦è§ [Docker éƒ¨ç½²æŒ‡å—](script/docker/DEPLOYMENT_GUIDE.md)ã€‚

#### å¿«é€Ÿéƒ¨ç½²

```bash
# 1. æ‰§è¡Œ Docker æ‰“åŒ…
cd script/docker
node build-docker.mjs

# 2. æ„å»ºå¹¶å¯åŠ¨
cd dist
docker build -t follow-movie:latest .
docker-compose up -d

# 3. è®¿é—®åº”ç”¨
# http://localhost:8080
```

å®Œæ•´éƒ¨ç½²è¯´æ˜è¯·æŸ¥çœ‹ï¼š[ğŸ“– Docker éƒ¨ç½²å®Œæ•´æŒ‡å—](script/docker/DEPLOYMENT_GUIDE.md)

## ğŸ”Œ æ’ä»¶åˆ—è¡¨

### åª’ä½“ä¸‹è½½æ’ä»¶

| æ’ä»¶ | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| **q-bittorrent** | qBittorrent ä¸‹è½½å·¥å…·é›†æˆï¼Œæ”¯æŒç§å­ç®¡ç†å’Œä¸‹è½½æ§åˆ¶ | âœ… å¯ç”¨ |

### åª’ä½“æŠ“å–æ’ä»¶

| æ’ä»¶ | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| **m-team** | M-Team PT ç«™ç‚¹é›†æˆï¼Œæ”¯æŒèµ„æºæœç´¢å’Œè®¢é˜… | âœ… å¯ç”¨ |

### åª’ä½“ä¸­å¿ƒæ’ä»¶

| æ’ä»¶ | åŠŸèƒ½                   | çŠ¶æ€ |
|------|----------------------|------|
| **media-hub** | è±†ç“£çƒ­é—¨ç”µå½±,ä¸çŸ¥é“æƒ³çœ‹ä»€ä¹ˆçš„æ—¶å€™ç¿»ä¸€ç¿» | âœ… å¯ç”¨ |

### è®¤è¯æ’ä»¶

| æ’ä»¶ | åŠŸèƒ½                         | çŠ¶æ€ |
|------|----------------------------|------|
| **z-space** | Z-Space æç©ºé—´è®¤è¯ï¼Œæ”¯æŒè¿æ¥åˆ°æç©ºé—´ä¸­çš„QB | âœ… å¯ç”¨ |

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°æ’ä»¶

#### åç«¯æ’ä»¶

1. åœ¨ `plugins/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ Maven æ¨¡å—
2. ç»§æ‰¿çˆ¶ POM å¹¶æ·»åŠ å¿…è¦ä¾èµ–
3. å®ç°æ’ä»¶å…¥å£ç±»
4. æ‰“åŒ…ä¸ºç‹¬ç«‹ JAR

#### å‰ç«¯æ’ä»¶

1. åœ¨æ’ä»¶ç›®å½•ä¸‹åˆ›å»º `fronted-web` ç›®å½•
2. é…ç½® Module Federation è¿œç¨‹æ¨¡å—
3. å¯¼å‡ºç»„ä»¶å’Œè·¯ç”±
4. åœ¨ä¸»åº”ç”¨ä¸­æ³¨å†Œè¿œç¨‹æ¨¡å—

è¯¦ç»†å¼€å‘æ–‡æ¡£è¯·å‚è€ƒå„æ’ä»¶ç›®å½•ä¸‹çš„ READMEã€‚

### æ„å»ºè„šæœ¬

#### å‰ç«¯ä¸€é”®æ„å»º

```bash
cd script/fronted
node build-all.mjs
```

è¯¥è„šæœ¬ä¼šè‡ªåŠ¨æ„å»ºæ‰€æœ‰å‰ç«¯é¡¹ç›®ï¼ˆä¸»åº”ç”¨ + æ‰€æœ‰æ’ä»¶ï¼‰ã€‚

#### Docker æ‰“åŒ…

```bash
cd script/docker
node build-docker.mjs
```

è‡ªåŠ¨å®Œæˆå‰åç«¯æ„å»ºã€æ–‡ä»¶æ”¶é›†å’Œ Docker é…ç½®ç”Ÿæˆã€‚

## ğŸ“š æ–‡æ¡£

- [Docker éƒ¨ç½²å®Œæ•´æŒ‡å—](script/docker/DEPLOYMENT_GUIDE.md)
- [å‰ç«¯æ„å»ºè¯´æ˜](script/fronted/BUILD_SCRIPTS_README.md)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [Spring Boot](https://spring.io/projects/spring-boot)
- [Vue.js](https://vuejs.org/)
- [Module Federation](https://module-federation.io/)
- [Vuetify](https://vuetifyjs.com/)
- [Jimmer](https://github.com/babyfish-ct/jimmer)

---

**é¡¹ç›®ç»´æŠ¤è€…:** Follow Movie Team  
**æœ€åæ›´æ–°:** 2025-11-09

